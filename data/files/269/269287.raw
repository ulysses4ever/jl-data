num_inputs = convert(Int32, 5)
num_hidden = convert(Int32, 7)
num_outputs = convert(Int32, 2)

layer_1_weights = rand(convert(Float32, -1):convert(Float32, 0.1):convert(Float32, 1), num_inputs * num_hidden)
layer_2_weights = rand(convert(Float32, -1):convert(Float32, 0.1):convert(Float32, 1), num_outputs * num_hidden)
inputs = rand(convert(Float32, 0):convert(Float32, 0.1):convert(Float32, 1), num_inputs)
hidden_activations = zeros(Float32, num_hidden)
outputs = zeros(Float32, num_outputs)
walls = [convert(Float32, 0), convert(Float32, 1), convert(Float32, 0), 
         convert(Float32, 1), convert(Float32, 0), convert(Float32, 0),
         convert(Float32, 0), convert(Float32, 1), convert(Float32, 200),
         convert(Float32, 1), convert(Float32, 0), convert(Float32, 400),]

num_goals = convert(Int32, 10)
goals = convert(Array{Float32, 1},  [20, 180,
                          
                          30, 164,
                          40, 148,
                          50, 132,
                          60, 116,
                          70, 100,
                          80, 84,
                          90, 68,
                          100, 52,
                          110, 36,
                          
                          120, 20,

    130, 36,
    140, 52,
    150, 68,
    160, 84,
    170, 100,
    180, 116,
    190, 132,
    200, 148,
    210, 164,

220, 180,

210, 164,
200, 148,
190, 132,
180, 116,

160, 116,
140, 116,
120, 116,
100, 116,
80,  116,])

bit_string = convert(Array{Int32, 1}, [0,0,1,1,1,0,1,0,0,0,1,0,1,1,0,1,0,0,1,0,1,1,1,0,1,1,1,1,1,0,1,0,1,0,0,0,1,0,1,1,1,1,1,1,0,0,1,0,1,1,1,0,0,0,0,1,0,1,1,1,1,1,0,0,0,1,1,0,1,0,0,1,0,0,0,1,1,0,1,1,0,1,1,0,0,0,1,0,1,1,0,1,1,1,1,0,0,1,1,0,0,0,1,1,1,1,1,0,1,1,0,0,1,1,0,0,0,0,0,1,0,0,0,1,1,1,0,0,0,1,0,1,0,1,0,0,0,1,1,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,1,1,1,1,1,0,1,1,0,0,0,1,1,0,1,0,1,0,0,0,0,0,1,1,0,0,0,0,1,0,1,0,1,0,0,0,0,1,0,1,1,0,0,1,0,1,1,1,1,1,0,1,0,1,0,1,0,1,0,1,0,1,1,1,0,1,1,1,1,1,1,0,0,1,1,0,1,0,1,0,0,1,1,0,0,1,0,0,0,0,0,1,1,1,1,1,0,1,1,0,1,0,1,0,0,0,1,0,0,1,1,0,1,0,1,1,1,0,1,0,1,0,1,1,0,1,0,0,0])
fitness = [convert(Float32, 0)]

for i = 1:1
Libdl.dlopen("/home/david/TehzCodes/GRNEvolution/librobosim")
ccall((:simulate, "/home/david/TehzCodes/GRNEvolution/librobosim"), Void,
      (Int32, Ptr{Float32}, Ptr{Float32}, Int32, Ptr{Int32}, Int32, Int32, Int32, 
       Int32, Ptr{Float32}, Ptr{Float32}, Ptr{Float32}, Ptr{Float32}, Ptr{Float32}, Ptr{Float32}, Int32),
      convert(Int32, 1000), walls, goals, num_goals, bit_string, convert(Int32, 6), num_inputs, num_hidden, 
      num_outputs, layer_1_weights, layer_2_weights, inputs, hidden_activations, 
      outputs, fitness, convert(Int32, 1))
end
