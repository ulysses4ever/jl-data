#extract_spectrograms.jl
#This script takes audio recordings and dumps the corresponding spectrograms
#into specpath, defined in the config file.
#author: Timothy Evans
#date: 30/07/15

importall signalprocessing, config
using DSP, WAV, Winston, Images

#=wavfile = "0.wav";
path = string(wavpath,wavfile);
rec, fs = wavread(path);
frec = hpfilter(rec,fs);
spec = spectrogram(frec[14000:18000],442);
A = spec.power;
imagesc(1000*A)
=#

#sort project directories
if path_rel
  projdir = pwd()[1:end-3]; #remove src directory
  wavpath = string(projdir,wavpath)
  specpath = string(projdir,specpath)
end
