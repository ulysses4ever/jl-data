# Project Euler 4

# Attempt 1

# function isPalindrome(n)
	# order = ifloor(log10(n)) + 1
	# digTry = ifloor(order/2)
	# for i = 0:digTry
		# if ifloor(mod(n / (10^i), 10)) != ifloor(mod(n / (10^(order-i-1)), 10))
			# return false
		# end
	# end
	# return true
# end

# function Run()
	# maxPal = 0
	# for i = 100:999, j = 100:999
		# candidate = i*j
		# if isPalindrome(candidate) && candidate > maxPal
			# maxPal = candidate
		# end
	# end
	# return maxPal
# end

# Attempt 2

function isPalindrome(n)
	order = log10(n) + 1
	for i = 0:div(order/2)
		if mod(div(n, 10^i), 10) != mod(div(n, 10^(order-i-1)), 10)
			return false
		end
	end
	return true
end

function maxProd(maxi, istart=maxi, iend=1, cand=0)
	for i = istart:-1:iend, j = maxi:-1:i
		candidate = i*j
		if isPalindrome(candidate)
			if candidate > cand
				lowi = div(candidate, maxi)
				if lowi < i
					return maxProd(maxi, i-1, lowi, candidate)
				else 
					return candidate
				end
			end
		end
	end
	return cand
end

function Run()
	return maxProd(999)
end
 