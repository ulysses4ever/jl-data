using KidneyMatching: Params, Data, Brain

techno="23_cycles"
prio="auto"
batch = 1
data_folder = "NKR_dep800"
solver = "gurobi"
cd("/Users/mburq/Documents/Research/Kidney/Kidney-dynamic-matching/src/")

p = Params(batch = batch, techno = techno, prio = prio, solver = solver, verbose = -1)

#a = [0.0 1.0 1.0; 1.0 0.0 0.0; 0.0 1.0 0.0]
data = import_data("test_1")
#Data(a, [1,2,3], [0.0,0.0,0.0], ["1", "2", "3"])
b = Brain(size(data.features)[2])

if verbose >= 1
  @time run_dynamic(data, 100, b, p)

  @time run_dynamic(data, 100, b, p)

  p.techno = "2_cycles"
  @time run_dynamic(data, 100, b, p)
else
  run_dynamic(data, 100, b, p)
  p.techno = "2_cycles"
  run_dynamic(data, 100, b, p)
end
