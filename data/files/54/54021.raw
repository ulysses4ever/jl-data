using Romeo

server = HttpServer(6060) do req::Request, res::Response
    local hw = "Hello World!"

    write(res.socket, "HTTP/1.1 200 Ok\r\n",
                      "Content-Length: ", string(length(hw)), "\r\n",
                      "Content-Type: text/plain\r\n",
                      "\r\n",
                      hw, "\r\n")
end

Event(server, "listening") do server::HttpServer
    log(INFO, "listening on port $(server.port)")
end

run(server)
