const FileABB = 0x0101010101010101::Bitboard
const FileBBB = bitboard(FileABB << 1)
const FileCBB = bitboard(FileABB << 2)
const FileDBB = bitboard(FileABB << 3)
const FileEBB = bitboard(FileABB << 4)
const FileFBB = bitboard(FileABB << 5)
const FileGBB = bitboard(FileABB << 6)
const FileHBB = bitboard(FileABB << 7)

const Rank1BB = bitboard(0xFF)
const Rank2BB = bitboard(Rank1BB << (8 * 1))
const Rank3BB = bitboard(Rank1BB << (8 * 2))
const Rank4BB = bitboard(Rank1BB << (8 * 3))
const Rank5BB = bitboard(Rank1BB << (8 * 4))
const Rank6BB = bitboard(Rank1BB << (8 * 5))
const Rank7BB = bitboard(Rank1BB << (8 * 6))
const Rank8BB = bitboard(Rank1BB << (8 * 7))

# println(bin(FileABB))
# println(bin(FileBBB))
# println(bin(FileCBB))
# println(bin(FileDBB))
# println(bin(FileEBB))
# println(bin(FileFBB))
# println(bin(FileGBB))
# println(bin(FileHBB))
# println()
# println(bin(Rank1BB))
# println(bin(Rank2BB))
# println(bin(Rank3BB))
# println(bin(Rank4BB))
# println(bin(Rank5BB))
# println(bin(Rank6BB))
# println(bin(Rank7BB))
# println(bin(Rank8BB))

const SFileABB = sbitboard(0b000000001000000001000000001000000001000000001000000001000000001000000001000000001)
const SFileBBB = sbitboard(SFileABB << 1)
const SFileCBB = sbitboard(SFileABB << 2)
const SFileDBB = sbitboard(SFileABB << 3)
const SFileEBB = sbitboard(SFileABB << 4)
const SFileFBB = sbitboard(SFileABB << 5)
const SFileGBB = sbitboard(SFileABB << 6)
const SFileHBB = sbitboard(SFileABB << 7)
const SFileIBB = sbitboard(SFileABB << 8)

const SRank1BB = sbitboard(0x1FF)
const SRank2BB = sbitboard(SRank1BB << (9 * 1))
const SRank3BB = sbitboard(SRank1BB << (9 * 2))
const SRank4BB = sbitboard(SRank1BB << (9 * 3))
const SRank5BB = sbitboard(SRank1BB << (9 * 4))
const SRank6BB = sbitboard(SRank1BB << (9 * 5))
const SRank7BB = sbitboard(SRank1BB << (9 * 6))
const SRank8BB = sbitboard(SRank1BB << (9 * 7))
const SRank9BB = sbitboard(SRank1BB << (9 * 8))

# println(bin(SFileABB))
# println(bin(SFileBBB))
# println(bin(SFileCBB))
# println(bin(SFileDBB))
# println(bin(SFileEBB))
# println(bin(SFileFBB))
# println(bin(SFileGBB))
# println(bin(SFileHBB))
# println(bin(SFileIBB))
# println()
# println(bin(SRank1BB))
# println(bin(SRank2BB))
# println(bin(SRank3BB))
# println(bin(SRank4BB))
# println(bin(SRank5BB))
# println(bin(SRank6BB))
# println(bin(SRank7BB))
# println(bin(SRank8BB))
# println(bin(SRank9BB))

# De Bruijn sequences. See chessprogramming.wikispaces.com/BitScan
const DeBruijn_64 = uint64(0x3F79D71B4CB0A89)
const DeBruijn_32 = uint32(0x783A9B23)

function bsf_index(b::Bitboard)
    # Matt Taylor's folding for 32 bit systems, extended to 64 bits by Kim Walisch
    b $= (b - 1)
    return (Is64Bit == true) ? uint32((b * DeBruijn_64) >> 58) : uint32(((uint32(b) ^ uint32(b >> 32)) * DeBruijn_32) >> 26)
end

